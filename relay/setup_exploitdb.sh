#!/bin/bash
# ExploitDB Full Database Setup Script
# Downloads the complete ExploitDB repository for AI learning

echo "[Setup] Downloading full ExploitDB database..."

# Download ExploitDB into a local ./exploitdb folder next to this script
SCRIPT_DIR="$(cd "$(dirname "${BASH_SOURCE[0]}")" && pwd)"
EXPLOITDB_DIR="${SCRIPT_DIR}/exploitdb"

# Create directory
mkdir -p "$EXPLOITDB_DIR"
cd "$EXPLOITDB_DIR"

# Clone the full ExploitDB repository (50,000+ exploits)
echo "[Setup] Cloning ExploitDB Git repository..."
git clone --depth 1 https://gitlab.com/exploit-database/exploitdb.git .

echo "[Setup] ExploitDB database downloaded!"
echo "[Setup] Location: $EXPLOITDB_DIR"
echo "[Setup] Exploit files: $EXPLOITDB_DIR/exploits/"
echo "[Setup] CSV database: $EXPLOITDB_DIR/files_exploits.csv"

# Count exploits
EXPLOIT_COUNT=$(wc -l < files_exploits.csv)
echo "[Setup] Total exploits available: $EXPLOIT_COUNT"

echo ""
echo "âœ… ExploitDB setup complete!"
echo "The AI will now learn from this local database."
